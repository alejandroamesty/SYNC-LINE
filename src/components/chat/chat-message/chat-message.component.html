<div class="container" [ngClass]="{ 'sent-container': isSent, 'received-container': !isSent }">
	<div class="message-time">{{ time }}</div>

	<div [ngClass]="{ sent: isSent, received: !isSent }" class="message-container">
		<ng-container *ngIf="!user && !isSent">
			<div class="username">{{ username }}</div>
		</ng-container>

		<ng-container *ngIf="!isAudio; else audioTemplate">
			<div class="message-text">{{ text }}</div>
		</ng-container>

		<ng-template #audioTemplate>
			<div class="audio-container">
				<img
					*ngIf="!isPlaying"
					src="assets/images/play.png"
					alt="Play"
					(click)="togglePlay()"
					class="audio-icon"
				/>
				<img
					*ngIf="isPlaying"
					src="assets/images/pause.png"
					alt="Pause"
					(click)="togglePlay()"
					class="audio-icon"
				/>
				<span class="audio-duration">
					{{ formatTime(currentTime) }} / {{ formatTime(duration) }}
				</span>
			</div>
		</ng-template>
	</div>
</div>
